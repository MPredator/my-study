设计自认为优雅的接口（下）
===

###概要：

最近有个设计上的需求，我们之前基于 opencart 的一个电商项目，需要进行对应的 APP 开发。这个就牵涉到了很多的问题。

1. opencart 之前的登陆表示是基于 session 的，但是如果使用 APP，APP 可能会使用 H5 和 Native 两种形态，这边有可能会产生一个 session 的不统一。
2. 之前使用的基于 url 的方式进行访问的页面，如何比较优雅的实现对应的移动 API。
3. API 部分会涉及到一个升级问题，如何优雅的实现升级，而且不会影响到先前版本的使用。
4. 其次是我们 APP 上会实现支付部分，而这个部分有可能基于 H5 来做，但是 APP 的开发的说法，支付的 SDK 是 Native 的，如何做到在 H5 上优雅的支付，又是个问题。
5. API 使用 json 做为协议，那么如何尽可能的减少结构体或者类的使用(照顾强类型的 json 解析)。

[上一篇文章](http://mikecoder.net/?post=134)主要介绍了第一，二，三点的解决思路。本文主要介绍四，五两点我们的解决思路。
